import React from "react";

import useFetch from 'hooks/useFetch'

const AddToFavorites = ({isFavorited, favoritesCount, articleSlug}) => {
    console.log('articleSlug', articleSlug)
    const apiUrl = `/articles/${articleSlug}/favorite`
    const [{response}, doFetch] = useFetch(apiUrl)

    const handleLike = (event) => {
        console.log('handleLike')
        event.preventDefault()
        doFetch({
            method: isFavorited ? 'delete' : 'post'
        })
    }
    return (
        <button
            className=''
            onClick={handleLike}
        >
            <i className='ion-heart'/>
            <span> &nbsp;{favoritesCount}</span>
        </button>
    )
}

export default AddToFavorites